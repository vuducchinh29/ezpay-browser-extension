{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/createClass.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/inherits.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/objectSpread.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/helpers/typeof.js","webpack:////home/dev/ezpay-browser-extension/node_modules/@babel/runtime/regenerator/index.js","webpack:////home/dev/ezpay-browser-extension/node_modules/dateformat/lib/dateformat.js","webpack:////home/dev/ezpay-browser-extension/node_modules/eventemitter3/index.js","webpack:////home/dev/ezpay-browser-extension/node_modules/extensionizer/extension-instance.js","webpack:////home/dev/ezpay-browser-extension/node_modules/extensionizer/index.js","webpack:////home/dev/ezpay-browser-extension/node_modules/regenerator-runtime/runtime.js","webpack:////home/dev/ezpay-browser-extension/node_modules/uuid/lib/bytesToUuid.js","webpack:////home/dev/ezpay-browser-extension/node_modules/uuid/lib/rng-browser.js","webpack:////home/dev/ezpay-browser-extension/node_modules/uuid/v4.js","webpack:///../lib/logger.js","webpack:///../lib/MessageDuplex/handlers/host.js","webpack:///../lib/MessageDuplex/handlers/child.js","webpack:///../lib/MessageDuplex/index.js","webpack:///../lib/EventChannel.js","webpack:///./index.js"],"names":["Logger","source","_source","Proxy","get","target","name","_handleInput","bind","logType","data","formatted","_formatMessage","console","log","level","colours","info","warn","error","hasOwnProperty","colour","timestamp","dateFormat","Date","now","toUpperCase","logger","MessageDuplexHost","channels","Map","incoming","outgoing","extensionizer","runtime","onConnect","addListener","channel","handleNewConnection","extensionID","sender","id","uuid","randomUUID","disconnect","url","has","emit","channelList","hostname","URL","set","onMessage","message","handleMessage","onDisconnect","size","noAck","messageID","action","handleReply","includes","res","send","resolve","reject","Promise","requiresAck","all","keys","map","channelGroup","forEach","postMessage","EventEmitter","MessageDuplexChild","type","Error","messageListener","disconnectListener","resetGovernor","connectToHost","connectionGovernor","connect","governor","isConnected","lastError","reconnect","connectionEstablisher","func","clearInterval","hasTimedOut","remaining","queue","isHost","push","Tab","Child","Popup","Host","EventChannel","channelKey","_channelKey","_registerEventListener","window","addEventListener","isTronLink","success","contentScript","duplex","MessageDuplex","eventChannel","init","registerListeners","inject","on","injectionSite","document","head","documentElement","container","createElement","src","extension","getURL","onload","parentNode","removeChild","insertBefore","children"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;;;;;;;ACVA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,mC;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,iC;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;;ACPA,qBAAqB,mBAAO,CAAC,qFAAkB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,2B;;;;;;;;;;;;ACjBA;AACA;AACA;;AAEA,kC;;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,oC;;;;;;;;;;;;ACJA,qBAAqB,mBAAO,CAAC,qFAAkB;;AAE/C;AACA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA,+B;;;;;;;;;;;;ACrBA,cAAc,mBAAO,CAAC,8EAAmB;;AAEzC,4BAA4B,mBAAO,CAAC,mGAAyB;;AAE7D;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4C;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iC;;;;;;;;;;;;ACTA,wBAAwB,mBAAO,CAAC,2FAAqB;;AAErD,sBAAsB,mBAAO,CAAC,uFAAmB;;AAEjD,wBAAwB,mBAAO,CAAC,2FAAqB;;AAErD;AACA;AACA;;AAEA,oC;;;;;;;;;;;;ACVA,wBAAwB,2EAA2E,oCAAoC,mBAAmB,GAAG,EAAE,OAAO,oCAAoC,8HAA8H,GAAG,EAAE,sBAAsB;;AAEnW;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;;;;;;;AChBA,iBAAiB,mBAAO,CAAC,8EAAqB;;;;;;;;;;;;;ACA9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,IAAI,GAAG,IAAI;AAChC,kJAAkJ,EAAE;AACpJ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,EAAE;AACd,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,WAAW;AACX;AACA;;;;AAIA,MAAM,IAA0C;AAChD,IAAI,mCAAO;AACX;AACA,KAAK;AAAA,oGAAC;AACN,GAAG,MAAM,EAIN;AACH,CAAC;;;;;;;;;;;;;;ACpOY;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yDAAyD,OAAO;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;;;;;;;;;;;;;AC/UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;;;;;;;;;;;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,mBAAO,CAAC,oFAAsB;AAChD;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,SAAE;AAClD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrtBA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACjCA,UAAU,mBAAO,CAAC,6DAAW;AAC7B,kBAAkB,mBAAO,CAAC,qEAAmB;;AAE7C;AAC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","file":"contentScript.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = require(\"regenerator-runtime\");\n","/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\n(function(global) {\n  'use strict';\n\n  var dateFormat = (function() {\n      var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZWN]|\"[^\"]*\"|'[^']*'/g;\n      var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n      var timezoneClip = /[^-+\\dA-Z]/g;\n  \n      // Regexes and supporting functions are cached through closure\n      return function (date, mask, utc, gmt) {\n  \n        // You can't provide utc if you skip other args (use the 'UTC:' mask prefix)\n        if (arguments.length === 1 && kindOf(date) === 'string' && !/\\d/.test(date)) {\n          mask = date;\n          date = undefined;\n        }\n  \n        date = date || new Date;\n  \n        if(!(date instanceof Date)) {\n          date = new Date(date);\n        }\n  \n        if (isNaN(date)) {\n          throw TypeError('Invalid date');\n        }\n  \n        mask = String(dateFormat.masks[mask] || mask || dateFormat.masks['default']);\n  \n        // Allow setting the utc/gmt argument via the mask\n        var maskSlice = mask.slice(0, 4);\n        if (maskSlice === 'UTC:' || maskSlice === 'GMT:') {\n          mask = mask.slice(4);\n          utc = true;\n          if (maskSlice === 'GMT:') {\n            gmt = true;\n          }\n        }\n  \n        var _ = utc ? 'getUTC' : 'get';\n        var d = date[_ + 'Date']();\n        var D = date[_ + 'Day']();\n        var m = date[_ + 'Month']();\n        var y = date[_ + 'FullYear']();\n        var H = date[_ + 'Hours']();\n        var M = date[_ + 'Minutes']();\n        var s = date[_ + 'Seconds']();\n        var L = date[_ + 'Milliseconds']();\n        var o = utc ? 0 : date.getTimezoneOffset();\n        var W = getWeek(date);\n        var N = getDayOfWeek(date);\n        var flags = {\n          d:    d,\n          dd:   pad(d),\n          ddd:  dateFormat.i18n.dayNames[D],\n          dddd: dateFormat.i18n.dayNames[D + 7],\n          m:    m + 1,\n          mm:   pad(m + 1),\n          mmm:  dateFormat.i18n.monthNames[m],\n          mmmm: dateFormat.i18n.monthNames[m + 12],\n          yy:   String(y).slice(2),\n          yyyy: y,\n          h:    H % 12 || 12,\n          hh:   pad(H % 12 || 12),\n          H:    H,\n          HH:   pad(H),\n          M:    M,\n          MM:   pad(M),\n          s:    s,\n          ss:   pad(s),\n          l:    pad(L, 3),\n          L:    pad(Math.round(L / 10)),\n          t:    H < 12 ? dateFormat.i18n.timeNames[0] : dateFormat.i18n.timeNames[1],\n          tt:   H < 12 ? dateFormat.i18n.timeNames[2] : dateFormat.i18n.timeNames[3],\n          T:    H < 12 ? dateFormat.i18n.timeNames[4] : dateFormat.i18n.timeNames[5],\n          TT:   H < 12 ? dateFormat.i18n.timeNames[6] : dateFormat.i18n.timeNames[7],\n          Z:    gmt ? 'GMT' : utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n          o:    (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n          S:    ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],\n          W:    W,\n          N:    N\n        };\n  \n        return mask.replace(token, function (match) {\n          if (match in flags) {\n            return flags[match];\n          }\n          return match.slice(1, match.length - 1);\n        });\n      };\n    })();\n\n  dateFormat.masks = {\n    'default':               'ddd mmm dd yyyy HH:MM:ss',\n    'shortDate':             'm/d/yy',\n    'mediumDate':            'mmm d, yyyy',\n    'longDate':              'mmmm d, yyyy',\n    'fullDate':              'dddd, mmmm d, yyyy',\n    'shortTime':             'h:MM TT',\n    'mediumTime':            'h:MM:ss TT',\n    'longTime':              'h:MM:ss TT Z',\n    'isoDate':               'yyyy-mm-dd',\n    'isoTime':               'HH:MM:ss',\n    'isoDateTime':           'yyyy-mm-dd\\'T\\'HH:MM:sso',\n    'isoUtcDateTime':        'UTC:yyyy-mm-dd\\'T\\'HH:MM:ss\\'Z\\'',\n    'expiresHeaderFormat':   'ddd, dd mmm yyyy HH:MM:ss Z'\n  };\n\n  // Internationalization strings\n  dateFormat.i18n = {\n    dayNames: [\n      'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n      'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n    ],\n    monthNames: [\n      'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n      'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n    ],\n    timeNames: [\n      'a', 'p', 'am', 'pm', 'A', 'P', 'AM', 'PM'\n    ]\n  };\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while (val.length < len) {\n    val = '0' + val;\n  }\n  return val;\n}\n\n/**\n * Get the ISO 8601 week number\n * Based on comments from\n * http://techblog.procurios.nl/k/n618/news/view/33796/14863/Calculate-ISO-8601-week-and-year-in-javascript.html\n *\n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getWeek(date) {\n  // Remove time components of date\n  var targetThursday = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\n  // Change date to Thursday same week\n  targetThursday.setDate(targetThursday.getDate() - ((targetThursday.getDay() + 6) % 7) + 3);\n\n  // Take January 4th as it is always in week 1 (see ISO 8601)\n  var firstThursday = new Date(targetThursday.getFullYear(), 0, 4);\n\n  // Change date to Thursday same week\n  firstThursday.setDate(firstThursday.getDate() - ((firstThursday.getDay() + 6) % 7) + 3);\n\n  // Check if daylight-saving-time-switch occurred and correct for it\n  var ds = targetThursday.getTimezoneOffset() - firstThursday.getTimezoneOffset();\n  targetThursday.setHours(targetThursday.getHours() - ds);\n\n  // Number of weeks between target Thursday and first Thursday\n  var weekDiff = (targetThursday - firstThursday) / (86400000*7);\n  return 1 + Math.floor(weekDiff);\n}\n\n/**\n * Get ISO-8601 numeric representation of the day of the week\n * 1 (for Monday) through 7 (for Sunday)\n * \n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getDayOfWeek(date) {\n  var dow = date.getDay();\n  if(dow === 0) {\n    dow = 7;\n  }\n  return dow;\n}\n\n/**\n * kind-of shortcut\n * @param  {*} val\n * @return {String}\n */\nfunction kindOf(val) {\n  if (val === null) {\n    return 'null';\n  }\n\n  if (val === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof val !== 'object') {\n    return typeof val;\n  }\n\n  if (Array.isArray(val)) {\n    return 'array';\n  }\n\n  return {}.toString.call(val)\n    .slice(8, -1).toLowerCase();\n};\n\n\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return dateFormat;\n    });\n  } else if (typeof exports === 'object') {\n    module.exports = dateFormat;\n  } else {\n    global.dateFormat = dateFormat;\n  }\n})(this);\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","const apis = [\n  'alarms',\n  'bookmarks',\n  'browserAction',\n  'commands',\n  'contextMenus',\n  'cookies',\n  'downloads',\n  'events',\n  'extension',\n  'extensionTypes',\n  'history',\n  'i18n',\n  'idle',\n  'notifications',\n  'pageAction',\n  'runtime',\n  'storage',\n  'tabs',\n  'webNavigation',\n  'webRequest',\n  'windows',\n]\n\nconst hasChrome = typeof chrome !== 'undefined'\nconst hasWindow = typeof window !== 'undefined'\nconst hasBrowser = typeof browser !== 'undefined'\n\nfunction Extension () {\n  const _this = this\n\n  apis.forEach(function (api) {\n\n    _this[api] = null\n\n    if (hasChrome) {\n      try {\n        if (chrome[api]) {\n          _this[api] = chrome[api]\n        }\n      } catch (e) {\n      }\n    }\n\n    if (hasWindow) {\n      try {\n        if (window[api]) {\n          _this[api] = window[api]\n        }\n      } catch (e) {\n      }\n    }\n\n    if (hasBrowser) {\n      try {\n        if (browser[api]) {\n          _this[api] = browser[api]\n        }\n      } catch (e) {\n      }\n      try {\n        _this.api = browser.extension[api]\n      } catch (e) {\n      }\n    }\n  })\n\n  if (hasBrowser) {\n    try {\n      if (browser && browser.runtime) {\n        this.runtime = browser.runtime\n      }\n    } catch (e) {\n    }\n\n    try {\n      if (browser && browser.browserAction) {\n        this.browserAction = browser.browserAction\n      }\n    } catch (e) {\n    }\n  }\n\n}\n\nmodule.exports = Extension\n","/* Extension.js\n *\n * A module for unifying browser differences in the WebExtension API.\n *\n * Initially implemented because Chrome hides all of their WebExtension API\n * behind a global `chrome` variable, but we'd like to start grooming\n * the code-base for cross-browser extension support.\n *\n * You can read more about the WebExtension API here:\n * https://developer.mozilla.org/en-US/Add-ons/WebExtensions\n */\n\nconst Extension = require('./extension-instance')\nmodule.exports = new Extension()\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import dateFormat from 'dateformat';\r\n\r\nexport default class Logger {\r\n    constructor(source) {\r\n        this._source = source;\r\n        return new Proxy(this, {\r\n            get(target, name) {\r\n                return target._handleInput.bind(target, name);\r\n            }\r\n        });\r\n    }\r\n\r\n    _handleInput(logType, ...data) {\r\n        const formatted = this._formatMessage(logType, data);\r\n        console.log(...formatted);\r\n    }\r\n\r\n    _formatMessage(logType = 'info', data) {\r\n        let level = logType;\r\n\r\n        const colours = {\r\n            info: '7f8c8d',\r\n            warn: 'f39c12',\r\n            error: 'c0392b'\r\n        };\r\n\r\n        if(!colours.hasOwnProperty(logType))\r\n            level = 'info';\r\n\r\n        const colour = colours[ level ];\r\n        const timestamp = dateFormat(Date.now(), 'mmm d, hh:MM:ss tt');\r\n\r\n        return [\r\n            `[${ timestamp }] %c[${ this._source }]: %c[${ level.toUpperCase() }]:`,\r\n            'font-weight: bold;',\r\n            `color: #${ colour };`,\r\n            ...data,\r\n        ];\r\n    }\r\n}","import EventEmitter from 'eventemitter3';\r\nimport randomUUID from 'uuid/v4';\r\nimport Logger from '@ezpay/lib/logger';\r\nimport extensionizer from 'extensionizer';\r\n\r\nconst logger = new Logger('MessageDuplex.Host');\r\n\r\nclass MessageDuplexHost extends EventEmitter {\r\n    constructor() {\r\n        super();\r\n\r\n        this.channels = new Map();\r\n        this.incoming = new Map(); // Incoming message replies\r\n        this.outgoing = new Map(); // Outgoing message replies\r\n\r\n        extensionizer.runtime.onConnect.addListener(channel => (\r\n            this.handleNewConnection(channel)\r\n        ));\r\n    }\r\n\r\n    handleNewConnection(channel) {\r\n        const extensionID = channel.sender.id;\r\n        const uuid = randomUUID();\r\n\r\n        if(extensionID !== extensionizer.runtime.id) {\r\n            channel.disconnect();\r\n            return logger.warn(`Dropped unsolicited connection from ${ extensionID }`);\r\n        }\r\n\r\n        const {\r\n            name,\r\n            sender: {\r\n                url\r\n            }\r\n        } = channel;\r\n\r\n        // logger.info(`New connection ${ name }:${ uuid } acquired`, channel);\r\n\r\n        if(!this.channels.has(name))\r\n            this.emit(`${ name }:connect`);\r\n\r\n        const channelList = (this.channels.get(name) || new Map());\r\n        const hostname = new URL(url).hostname;\r\n\r\n        this.channels.set(name, channelList.set(uuid, {\r\n            channel,\r\n            url\r\n        }));\r\n\r\n        channel.onMessage.addListener(message => (\r\n            this.handleMessage(name, {\r\n                ...message,\r\n                hostname\r\n            })\r\n        ));\r\n\r\n        channel.onDisconnect.addListener(() => {\r\n            // logger.info(`Connection ${ name }:${ uuid } disconnected`);\r\n            // Delete any pending requests that match this name + id\r\n\r\n            const channelList = this.channels.get(name);\r\n\r\n            if(!channelList)\r\n                return;\r\n\r\n            channelList.delete(uuid);\r\n\r\n            if(!channelList.size) {\r\n                this.channels.delete(name);\r\n                this.emit(`${ name }:disconnect`);\r\n            }\r\n        });\r\n    }\r\n\r\n    handleMessage(source, message) {\r\n        // logger.info(`Received message from ${ source }:`, message);\r\n\r\n        const {\r\n            noAck = false,\r\n            hostname,\r\n            messageID,\r\n            action,\r\n            data\r\n        } = message;\r\n\r\n        if(action == 'messageReply')\r\n            return this.handleReply(data);\r\n\r\n        if(source == 'tab' && ![ 'tabRequest' ].includes(action))\r\n            return logger.error(`Droping unauthorized tab request: ${ action }`, data);\r\n\r\n        if(noAck)\r\n            return this.emit(action, { hostname, data });\r\n\r\n        this.incoming.set(messageID, res => (\r\n            this.send(source, 'messageReply', {\r\n                messageID,\r\n                ...res\r\n            }, false)\r\n        ));\r\n\r\n        this.emit(action, {\r\n            resolve: res => {\r\n                if(!this.incoming.get(messageID))\r\n                    return logger.warn(`Message ${ messageID } expired`);\r\n\r\n                this.incoming.get(messageID)({ error: false, res });\r\n                this.incoming.delete(messageID);\r\n            },\r\n            reject: res => {\r\n                if(!this.incoming.get(messageID))\r\n                    return logger.warn(`Message ${ messageID } expired`);\r\n\r\n                this.incoming.get(messageID)({ error: true, res });\r\n                this.incoming.delete(messageID);\r\n            },\r\n            data,\r\n            hostname\r\n        });\r\n    }\r\n\r\n    handleReply({ messageID, error, res }) {\r\n        if(!this.outgoing.has(messageID))\r\n            return;\r\n\r\n        if(error)\r\n            this.outgoing.get(messageID)(Promise.reject(res));\r\n        else this.outgoing.get(messageID)(res);\r\n\r\n        this.outgoing.delete(messageID);\r\n    }\r\n\r\n    broadcast(action, data, requiresAck = true) {\r\n        return Promise.all([ ...this.channels.keys() ].map(channelGroup => (\r\n            this.send(channelGroup, action, data, requiresAck)\r\n        )));\r\n    }\r\n\r\n    send(target = false, action, data, requiresAck = true) {\r\n        if(!this.channels.has(target))\r\n            return;\r\n\r\n        // return Promise.reject('Target channel does not exist');\r\n\r\n        if(!requiresAck) {\r\n            return this.channels.get(target).forEach(({ channel }) => (\r\n                channel.postMessage({ action, data, noAck: true })\r\n            ));\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            const messageID = randomUUID();\r\n\r\n            this.outgoing.set(messageID, resolve);\r\n\r\n            this.channels.get(target).forEach(({ channel }) => (\r\n                channel.postMessage({ action, data, messageID, noAck: false })\r\n            ));\r\n        });\r\n    }\r\n}\r\n\r\nexport default MessageDuplexHost;\r\n","import EventEmitter from 'eventemitter3';\r\nimport randomUUID from 'uuid/v4';\r\nimport Logger from '@ezpay/lib/logger';\r\nimport extensionizer from 'extensionizer';\r\n\r\nconst logger = new Logger('MessageDuplex.Child');\r\n\r\nclass MessageDuplexChild extends EventEmitter {\r\n    constructor(type = false) {\r\n        super();\r\n\r\n        if(![ 'tab', 'popup' ].includes(type))\r\n            throw new Error(`MessageDuplexChild expects a source type of either tab or popup, instead \"${ type }\" was provided`);\r\n\r\n        this.type = type;\r\n        this.incoming = new Map(); // Incoming message replies\r\n        this.outgoing = new Map(); // Outgoing message replies\r\n        this.messageListener = false;\r\n        this.disconnectListener = false;\r\n        this.extensionID = extensionizer.runtime.id;\r\n\r\n        this.resetGovernor();\r\n        this.connectToHost();\r\n        this.connectionGovernor();\r\n    }\r\n\r\n    connectToHost() {\r\n        this.channel = extensionizer.runtime.connect(/*this.extensionID, */{\r\n            name: this.type\r\n        });\r\n\r\n        this.governor.isConnected = true;\r\n\r\n        this.messageListener = this.channel.onMessage.addListener(message => {\r\n            this.handleMessage(message);\r\n        });\r\n\r\n        this.disconnectListener = this.channel.onDisconnect.addListener(() => {\r\n            const error = (\r\n                this.channel.error ||\r\n                extensionizer.lastError ||\r\n                'Unknown disconnect'\r\n            );\r\n\r\n            logger.error('Lost connection to MessageDuplexHost:', error);\r\n\r\n            this.governor.isConnected = false;\r\n            this.governor.reconnect();\r\n        });\r\n    }\r\n\r\n    resetGovernor() {\r\n        if(this.governor && this.governor.connectionEstablisher.func)\r\n            clearInterval(this.connectionGovernor.connectionEstablisher.func);\r\n\r\n        this.governor = {\r\n            isConnected: false,\r\n            hasTimedOut: false, // after connectionEstablisher.remaining = 0\r\n            connectionEstablisher: {\r\n                func: false,\r\n                remaining: 5 // try 5 times, 1 second span\r\n            },\r\n            queue: [],\r\n            reconnect: () => {\r\n                logger.warn('MessageDuplexChild requested reconnect');\r\n            }\r\n        };\r\n\r\n        // on disconnect call:\r\n        // - this.channel.onDisconnect.removeListener(this.disconnectListener);\r\n        // - this.channel.onMessage.removeListener(this.messageListener);\r\n    }\r\n\r\n    connectionGovernor() {\r\n        if(this.isHost)\r\n            throw new Error('Host port cannot establish governor status');\r\n\r\n        // Check if extension is established here\r\n        // Add error/disconnect listener here\r\n\r\n        // if !this.governor.isConnected, immedietly invoke reconnection timeout\r\n\r\n        // This function will check for disconnects, and attempt to re-establish\r\n        // communication. It will also queue any messages during disconnection\r\n        // for a maximum of 5 seconds before returning an error status on all messages.\r\n    }\r\n\r\n    handleMessage({ action, data, messageID, noAck = false }) {\r\n        // logger.info('Received new message', { action, data, messageID });\r\n\r\n        if(action == 'messageReply')\r\n            return this.handleReply(data);\r\n\r\n        if(noAck)\r\n            return this.emit(action, data);\r\n\r\n        this.incoming.set(messageID, res => (\r\n            this.send('messageReply', { messageID, ...res }, false)\r\n        ));\r\n\r\n        this.emit(action, {\r\n            resolve: res => {\r\n                if(!this.incoming.get(messageID))\r\n                    return logger.warn(`Message ${ messageID } expired`);\r\n\r\n                this.incoming.get(messageID)({ error: false, res });\r\n                this.incoming.delete(messageID);\r\n            },\r\n            reject: res => {\r\n                if(!this.incoming.get(messageID))\r\n                    return logger.warn(`Message ${ messageID } expired`);\r\n\r\n                this.incoming.get(messageID)({ error: true, res });\r\n                this.incoming.delete(messageID);\r\n            },\r\n            data\r\n        });\r\n    }\r\n\r\n    handleReply({ messageID, error, res }) {\r\n        if(!this.outgoing.has(messageID))\r\n            return;\r\n\r\n        // return logger.info(`Cannot find promise for message ${ messageID }`);\r\n\r\n        if(error)\r\n            this.outgoing.get(messageID)(Promise.reject(res));\r\n        else this.outgoing.get(messageID)(res);\r\n\r\n        this.outgoing.delete(messageID);\r\n    }\r\n\r\n    send(action, data, requiresAck = true) {\r\n        const { governor } = this;\r\n\r\n        if(!governor.isConnected && !governor.hasTimedOut) {\r\n            return new Promise((resolve, reject) => governor.queue.push({\r\n                action,\r\n                data,\r\n                resolve,\r\n                reject\r\n            }));\r\n        }\r\n\r\n        if(!governor.isConnected && governor.hasTimedOut)\r\n            return Promise.reject('Failed to establish connection to extension');\r\n\r\n        if(!requiresAck)\r\n            return this.channel.postMessage({ action, data, noAck: true });\r\n\r\n        return new Promise((resolve, reject) => {\r\n            const messageID = randomUUID();\r\n\r\n            this.outgoing.set(messageID, resolve);\r\n\r\n            this.channel.postMessage({\r\n                action,\r\n                data,\r\n                messageID,\r\n                noAck: false\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nexport default MessageDuplexChild;\r\n","import Host from './handlers/host';\r\nimport Child from './handlers/child';\r\n\r\nconst Tab = Child.bind(null, 'tab');\r\nconst Popup = Child.bind(null, 'popup');\r\n\r\nexport default {\r\n    Host,\r\n    Tab,\r\n    Popup\r\n};","import EventEmitter from 'eventemitter3';\r\n\r\nclass EventChannel extends EventEmitter {\r\n    constructor(channelKey = false) {\r\n        super();\r\n\r\n        if(!channelKey)\r\n            throw 'No channel scope provided';\r\n\r\n        this._channelKey = channelKey;\r\n        this._registerEventListener();\r\n    }\r\n\r\n    _registerEventListener() {\r\n        window.addEventListener('message', ({ data: { isTronLink = false, message, source } }) => {\r\n            if(!isTronLink || (!message && !source))\r\n                return;\r\n\r\n            if(source === this._channelKey)\r\n                return;\r\n\r\n            const {\r\n                action,\r\n                data\r\n            } = message;\r\n\r\n            this.emit(action, data);\r\n        });\r\n    }\r\n\r\n    send(action = false, data = {}) {\r\n        if(!action)\r\n            return { success: false, error: 'Function requires action {string} parameter' };\r\n\r\n        window.postMessage({\r\n            message: {\r\n                action,\r\n                data\r\n            },\r\n            source: this._channelKey,\r\n            isTronLink: true\r\n        }, '*');\r\n    }\r\n}\r\n\r\nexport default EventChannel;","import MessageDuplex from '@ezpay/lib/MessageDuplex';\r\nimport EventChannel from '@ezpay/lib/EventChannel';\r\nimport Logger from '@ezpay/lib/logger';\r\nimport extensionizer from 'extensionizer';\r\n\r\nconst logger = new Logger('contentScript');\r\n\r\nconst contentScript = {\r\n    duplex: new MessageDuplex.Tab(),\r\n    eventChannel: new EventChannel('contentScript'),\r\n\r\n    init() {\r\n        logger.info('Initialising TronLink');\r\n\r\n        this.registerListeners();\r\n        this.inject();\r\n    },\r\n\r\n    registerListeners() {\r\n        this.eventChannel.on('tunnel', async data => {\r\n            try {\r\n                this.eventChannel.send(\r\n                    'tabReply',\r\n                    await this.duplex.send('tabRequest', data)\r\n                );\r\n            } catch(ex) {\r\n                logger.info('Tab request failed:', ex);\r\n            }\r\n        });\r\n\r\n        this.duplex.on('tunnel', ({ action, data }) => {\r\n            this.eventChannel.send(action, data);\r\n        });\r\n    },\r\n\r\n    inject() {\r\n        const injectionSite = (document.head || document.documentElement);\r\n        const container = document.createElement('script');\r\n\r\n        container.src = extensionizer.extension.getURL('dist/pageHook.js');\r\n        container.onload = function() {\r\n            this.parentNode.removeChild(this);\r\n        };\r\n\r\n        injectionSite.insertBefore(\r\n            container,\r\n            injectionSite.children[ 0 ]\r\n        );\r\n\r\n        logger.info('TronLink injected');\r\n    }\r\n};\r\n\r\ncontentScript.init();\r\n"],"sourceRoot":""}